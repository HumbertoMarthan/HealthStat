<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:sec="http://www.springframework.org/security/facelets/tags"
	xmlns:util="http://java.sun.com/jsf/composite/resources/componentes"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

	<ui:define name="title">Alterar Senha</ui:define>

	<ui:define name="content">
		<div class="ui-g" align="center">
			<div class="ui-g-12">
				<div class="card">
					<h:form id="formCadastroDialog" prependId="false">
						<p:panel>
						<h2>Usu√°rio -	#{loginBean.usuarioLogadoSecurity.toUpperCase()}</h2>
						<hr/>
						<h:panelGrid id="gridAltSenhaDialod" columns="2">
							<p:column>
								<p:row>
									<h:outputLabel value="Senha Atual: " for="senhaAtualDialog"
										id="labelSenhaAtual" style="width:350px;" />
								</p:row>
							</p:column>

							<p:column>
								<p:row>
									<p:password id="senhaAtualDialog" maxlength="20"
										required="true"
										value="#{loginBean.loginAtualizaSenha.senhaAtual}"
										requiredMessage="Informe o campo senha atual" />
								</p:row>
							</p:column>

							<p:column>
								<p:row>
									<h:outputLabel for="senhaNovaDialog" value="Nova senha : "
										id="labelSenhaDialog" style="width:350px;" />
								</p:row>
							</p:column>


							<p:column>
								<p:row>
									<p:password id="senhaNovaDialog" styleClass="estiloIdCastro" promptLabel="Insira sua senha!"
										maxlength="20" feedback="true" goodLabel="Senha Boa!" weakLabel="Senha fraca!" strongLabel="Senha Forte!"
										value="#{loginBean.loginAtualizaSenha.novaSenha}"
										required="true" requiredMessage="Informe o campo nova senha." />
								</p:row>
							</p:column>

							<p:column>
								<p:row>
									<h:outputLabel for="confirmeDialog" value="Confirme : "
										id="labelConfDialog" style="width:400px;" />
								</p:row>
							</p:column>
							<p:column>
								<p:row>
									<p:password id="confirmeDialog" styleClass="estiloIdCastro" promptLabel="Confirme sua senha!"
										maxlength="20" feedback="true" goodLabel="Senha Boa!" weakLabel="Senha fraca!" strongLabel="Senha Forte!"
										value="#{loginBean.loginAtualizaSenha.confirmaSenha}"
										required="true" requiredMessage="Confirme a nova senha." />
								</p:row>
							</p:column>
					
							<p:commandButton id="buttonFecharDeSenha" value="Salvar"
								ajax="true" partialSubmit="true"
								action="#{loginBean.updateSenha}" process="@this, @form"
								immediate="false" update="@form" >
							</p:commandButton>

							<p:button value="Menu Principal" styleClass="blue-btn"
								outcome="/restrito/dashboard" style="width: 170px" />
						</h:panelGrid>
						</p:panel>

						<br />
						<br />

					</h:form>
				</div>
			</div>
		</div>

	</ui:define>
</ui:composition>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:sec="http://www.springframework.org/security/facelets/tags"
	xmlns:util="http://java.sun.com/jsf/composite/componentes"
	xmlns:p="http://primefaces.org/ui">
<body>
	<p:panel rendered="#{contasReceberBean.estado eq 'P'}">
		<div class="content">
			<div class="ui-fluid">
				<p:panel header="Contas a Receber" style="text-align:center">
					<div class="ui-g">
						<div class="ui-g-12" align="center">
							<div class="ui-g-12 ui-lg-4" align="center">
								<p:inputText
									value="#{contasReceberBean.campoBuscaContasReceber}"
									placeholder="Buscar pelo Nome do Paciente" id="inputNome"
									style="height:40px; ">
								</p:inputText>
							</div>
							<div class="ui-g-12 ui-lg-4" align="center">
								<p:selectOneRadio
									value="#{contasReceberBean.campoBuscaTipoConta}">
									<f:selectItem itemLabel="Pendente" itemValue="P" />
									<f:selectItem itemLabel="Concluido" itemValue="C" />
									<f:selectItem itemLabel="Atrasado" itemValue="A" />
									<p:ajax event="change" update="table"
										listener="#{contasReceberBean.busca}" />
								</p:selectOneRadio>
							</div>


							<div class="ui-g-12 ui-lg-1">
								<p:commandButton style="height:40px;width:130px; "
									styleClass="btn btn-blue" icon="ui-icon-search"
									id="btnBuscatxt" actionListener="#{contasReceberBean.busca}"
									update=" inputNome,table" />
								<p:defaultCommand target="btnBuscatxt" />
							</div>
						</div>
					</div>
				</p:panel>
				<p:panel>
					<div class="ui-g">
						<br />
						<p:dataTable value="#{contasReceberBean.lstContasReceber}" var="d"
							styleClass="table.gridtable" rowKey="#{d.idContasReceber}"
							selectionMode="single" id="table"
							selection="#{contasReceberBean.contasReceberModel}">

							<p:ajax event="rowSelect"
								listener="#{contasReceberBean.onRowSelect}"
								update="table, :formPai" />

							<p:column headerText="Status" priority="1"
								style="overflow: hidden;text-align: center; font-size: medium;width: 10%">
								<p:outputLabel value="Pendente" rendered="#{d.status eq 'P'}"
									style="color : magenta" />
								<p:outputLabel value="Concluido" rendered="#{d.status eq 'C'}"
									style="color : green" />
								<p:outputLabel value="Atrasado" rendered="#{d.status eq 'A'}"
									style="color : red" />
							</p:column>
							
							
							<p:column headerText="Usuário"
								style="overflow: hidden;text-align: center; font-size: medium; width: 10%">
								<p:outputLabel style=" font-size: medium" value="#{d.login.login.toUpperCase()}" />
							</p:column>

							<p:column headerText="Paciente" priority="5"
								style="overflow: hidden;text-align: left; font-size: medium">
								<p:outputLabel style=" font-size: medium" value="#{d.paciente.pessoa.pessoaNome}"/>
								<br />
								<p:outputLabel style=" font-size: medium" value="#{d.paciente.convenio.nomeConvenio}"/>
							</p:column>

							<p:column headerText="Pagamento" priority="4">
								<p:outputLabel style=" font-size: medium"
									value="Data de Vencimento :"/> 
								<p:outputLabel style=" font-size: medium; color: red"
									value="#{d.dataVencimentoContasReceber}">
									<f:convertDateTime pattern="dd/MM/yyyy" 
										timeZone="America/Sao_Paulo" />
								</p:outputLabel>
								<br />
								<p:outputLabel value="Valor Consulta : " style="font-size: medium;"/>
								<p:outputLabel style=" font-size: medium; color: red"
								 value="R$ #{d.valorConsulta}" />
							
							</p:column>
							<p:column headerText="Observação" priority="1">
								<p:outputLabel style=" font-size: medium" value="#{d.observacao}" />
							</p:column>

							<!-- 							<p:column style="width:50px" priority="4">
								<center>
									<f:facet name="header">Excluir</f:facet>
									<p:commandLink action="#{contasReceberBean.excluir}"
										update="table" id="excluir" ajax="true"
										immediate="true">
										<i class="fa fa-trash" aria-hidden="true"></i>
										<f:setPropertyActionListener value="#{d}"
											target="#{contasReceberBean.contasReceberModel}" />
									</p:commandLink>
								</center>
							</p:column>
 -->
						</p:dataTable>
					</div>
				</p:panel>
			</div>
		</div>
	</p:panel>
</body>
</html>


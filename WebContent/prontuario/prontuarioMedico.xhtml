<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:util="http://java.sun.com/jsf/composite/componentes"
	template="/WEB-INF/template.xhtml">

	<ui:define name="title">Prontuário Médico</ui:define>

	<ui:define name="head">

		<style type="text/css">
.ui-datatable thead th, .ui-datatable tfoot td {
	text-align: center;
	font-size: large;
}

.ui-lg-12.centralizar {
	margin: 0 auto !important;
	height: auto;
	width: 100% text-align: center;
	float: none !important;
	position: inherit;
}

.tamanho {
	height: 150px !important;
}

.ui-fluid .ui-inputtext {
	width: 100%;
	/* height: 35px; */
	font-size: large;
	text-align: center;
	color: black;
}

.ui-g label {
	font-size: medium;
	color: #2e6e9e;
	font-weight: bold;
}

.subtitulo {
	font-weight: bold;
	font-size: 20px !important;
	color: black !important;
}

.
ui-fluid .ui-autocomplete, .ui-fluid .ui-autocomplete-input {
	width: 100%;
	height: 35px;
	font-size: large;
	text-align: center;
	color: black;
}

.ui-fluid .ui-inputtextarea {
	width: 100%;
	/*height: 150px !important;*/
}

.ui-inputfield {
	margin: 0;
	outline: medium none;
	padding: 4px;
	font-weight: bold;
	height: 35px;
	font-size: medium !important;
}

.ui-autocomplete-input.ui-autocomplete-dd-input {
    padding-right: 2.4em;
    width: 430px;
}
</style>

	</ui:define>
	<ui:define name="content">
		<h:form>
			<p:outputPanel>
				<div align="center">
					<p:panel>
						<!-- Botão Atestado -->
						<p:commandButton value="Atestado"
							rendered="#{prontuarioBean.estado ne 'A'}"
							style="height:40px;width:130px; background-color: seagreen; background: seagreen; color:white !important"
							ajax="true" immediate="true" id="buttonAtestado"
							icon="fa fa-info-circle" iconPos="right"
							action="#{prontuarioBean.mudaEstadoAtestado}" update="@form">

							<p:confirm
								message="Deseja ir para Atestado? A tela atual será perdida, senão salva!"
								icon="ui-icon-mail-closed" />
						</p:commandButton>
						<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
							<div align="center">
								<p:commandButton value="Sim" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />

								<p:commandButton value="Não" type="button"
									styleClass="ui-confirmdialog-no" icon=" ui-icon-close" />
							</div>
						</p:confirmDialog>

						<!-- Botão Guia de Consulta -->
						<p:commandButton value="Guia Consulta"
							rendered="#{prontuarioBean.estado ne 'C'}"
							style="height:40px;width:170px; background-color: darkcyan; background: darkcyan; color:white !important"
							ajax="true" immediate="true" id="buttonGuiaConsulta"
							icon="fa fa-info-circle" iconPos="right"
							action="#{prontuarioBean.mudaEstadoGuiaConsulta}" update="@form">

							<p:confirm
								message="Deseja ir para a Guia de Consulta? A tela atual será perdida, senão salva!"
								icon="ui-icon-mail-closed" />
						</p:commandButton>
						<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
							<div align="center">
								<p:commandButton value="Sim" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />

								<p:commandButton value="Não" type="button"
									styleClass="ui-confirmdialog-no" icon=" ui-icon-close" />
							</div>
						</p:confirmDialog>
						<!-- Botão Nova -->
						<p:commandButton value="Novo"
							style="height:40px;width:130px; background-color: gray; background: gray; color:white !important"
							rendered="#{prontuarioBean.estado eq 'C'}"
							action="#{prontuarioBean.novo}" ajax="true" immediate="true"
							id="buttonNovo" update="@form" icon="fa fa-plus" iconPos="right">

							<p:confirm
								message="Ao Clicar em sim um novo formulário de cadastro será criado, as informações atuais serão perdidas, senão salvas!"
								icon="ui-icon-mail-closed" />
						</p:commandButton>

						<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
							<div align="center">
								<p:commandButton value="Sim" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />

								<p:commandButton value="Não" type="button"
									styleClass="ui-confirmdialog-no" icon=" ui-icon-close" />
							</div>
						</p:confirmDialog>

						<!-- Botão Salvar -->
						<p:commandButton value="Salvar"
							style="height:40px;width:130px; background-color: green; background: green; color:white !important"
							rendered="#{prontuarioBean.estado eq 'C' and prontuarioBean.prontuarioModel.idProntuario == null}"
							actionListener="#{prontuarioBean.saveNotReturn}" ajax="true"
							partialSubmit="true" process="@this, @form" id="buttonSalvar"
							immediate="false" update="@form" icon="fa fa-floppy-o fa"
							iconPos="rigth">
						</p:commandButton>

						<util:botoesCrud managedBeanView="#{prontuarioBean}"
							camposReload=":formTemplate:msg, @form" botaoNovo="false"
							botaoSalvar="false"
							botaoAtualizar="prontuarioBean.prontuarioModel.idProntuario != null}"
							botaoRedirecionar="false" botaoExcluir="false">
						</util:botoesCrud>

						<!-- Botão Historico -->
						<p:commandButton value="Histórico"
							rendered="#{prontuarioBean.estado ne 'H'}"
							style="height:40px;width:130px; background-color: silver; background: silver; color:white !important"
							ajax="true" immediate="true" id="buttonHistorico"
							icon="fa fa-info-circle" iconPos="right"
							action="#{prontuarioBean.mudaEstadoHistorico}" update="@form">

							<p:confirm
								message="Deseja ir para a Histórico? A tela atual será perdida, senão salva!"
								icon="ui-icon-mail-closed" />
						</p:commandButton>

						<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
							<div align="center">
								<p:commandButton value="Sim" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />

								<p:commandButton value="Não" type="button"
									styleClass="ui-confirmdialog-no" icon=" ui-icon-close" />
							</div>
						</p:confirmDialog>
						<!-- Botão Limpar -->
						<p:commandButton value="Limpar"
							style="height:40px;width:130px; background-color: saddlebrown; background: saddlebrown; color:white !important"
							ajax="true" immediate="false" id="buttonLimpar"
							icon="fa fa-info-circle" iconPos="right">
						</p:commandButton>

						<!-- Botão Encaminhamento -->
						<p:commandButton value="Encaminhamento"
							rendered="#{prontuarioBean.estado ne 'E'}"
							style="height:40px;width:170px; background-color: darkblue; background: darkblue; color:white !important"
							ajax="true" immediate="true" id="buttonGuiaEncaminhamento"
							icon="fa fa-location-arrow" iconPos="right"
							action="#{prontuarioBean.mudaEstadoEncaminhamento}"
							update="@form">
							<p:confirm
								message="Deseja ir para a Encaminhamento? A tela atual será perdida, senão salva!"
								icon="ui-icon-mail-closed" />
						</p:commandButton>

						<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
							<div align="center">
								<p:commandButton value="Sim" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />

								<p:commandButton value="Não" type="button"
									styleClass="ui-confirmdialog-no" icon=" ui-icon-close" />
							</div>
						</p:confirmDialog>
					</p:panel>
				</div>
			</p:outputPanel>

			<br />
			<br />

			<!-- GUIA DE CONSULTA -->
			<h:form rendered="#{prontuarioBean.estado eq 'C'}">
				<ui:include src="/prontuario/guiaConsulta.xhtml" />
			</h:form>

			<!-- FORM HISTORICO -->
			<h:form rendered="#{prontuarioBean.estado eq 'H'}">
				<ui:include src="/prontuario/historico.xhtml" />
			</h:form>

			<!-- FORM ATESTADO -->
			<h:form id="atestado" rendered="#{prontuarioBean.estado eq 'A'}">
				<ui:include src="/prontuario/atestado.xhtml" />
			</h:form>

			<!-- FORM ENCAMINHAMENTO -->
			<h:form rendered="#{prontuarioBean.estado eq 'E'}">
				<ui:include src="/prontuario/encaminhamento.xhtml" />
			</h:form>
		</h:form>
	</ui:define>
</ui:composition>